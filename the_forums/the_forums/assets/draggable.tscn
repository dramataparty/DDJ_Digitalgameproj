[gd_scene load_steps=5 format=3 uid="uid://bfhe50wg2mf52"]

[ext_resource type="Texture2D" uid="uid://bjpls42x75gve" path="res://icon.svg" id="1_lwnnj"]
[ext_resource type="Texture2D" uid="uid://dcw3ncv63wbok" path="res://icon2.svg" id="3_0b3lm"]

[sub_resource type="GDScript" id="GDScript_qedgo"]
script/source = "extends Sprite2D

var dragging := false
var drag_offset := Vector2.ZERO

@export var item_id: String = \"\"

@export var spriteinactive: CompressedTexture2D
@export var spriteactive: CompressedTexture2D

func get_id():
	return item_id

func _input(event):
	if event is InputEventMouseButton:
		if event.button_index == MOUSE_BUTTON_LEFT and Mouse.get_mode() == Mouse.Mode.HAND:
			# Start dragging if clicked on the sprite
			if event.pressed and get_rect().has_point(to_local(event.position)):
				dragging = true
				drag_offset = global_position - event.position
			# Stop dragging
			elif not event.pressed:
				dragging = false

func _process(delta):
	if dragging:
		global_position = get_viewport().get_mouse_position() + drag_offset
"

[sub_resource type="CircleShape2D" id="CircleShape2D_d73fv"]
radius = 75.2396

[node name="Draggable" type="Sprite2D"]
position = Vector2(-274, 82.0002)
texture = ExtResource("1_lwnnj")
script = SubResource("GDScript_qedgo")
item_id = "key"
spriteinactive = ExtResource("1_lwnnj")
spriteactive = ExtResource("3_0b3lm")

[node name="Area2D" type="Area2D" parent="."]
collision_layer = 2
collision_mask = 0
monitoring = false

[node name="CollisionShape2D" type="CollisionShape2D" parent="Area2D"]
shape = SubResource("CircleShape2D_d73fv")
